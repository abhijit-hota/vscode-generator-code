/*---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
var nameRegex = /^[a-z0-9][a-z0-9\-]*$/i;
const validLanguageIDs = [
    "aa_DJ",
    "ab",
    "ach",
    "ady",
    "af",
    "af_ZA",
    "ak",
    "aln",
    "am",
    "am_ET",
    "an",
    "ar",
    "ar_AA",
    "ar_AE",
    "arc",
    "ar_DZ",
    "ar_EG",
    "ar_IQ",
    "ar_JO",
    "ar_LB",
    "ar_SA",
    "ar_SD",
    "ar_SY",
    "as",
    "as_IN",
    "ast",
    "ast_ES",
    "ay",
    "az",
    "az@Arab",
    "az_AZ",
    "az_IR",
    "az@latin",
    "grc",
    "hy",
    "hy_AM",
    "hy_RU",
    "sq",
    "sq_AL",
    "ba",
    "bal",
    "bar",
    "bcq",
    "be",
    "be_BY",
    "bem",
    "bem_ZM",
    "ber",
    "be@tarask",
    "bg",
    "bg_BG",
    "bg@Cyrl",
    "bg_US",
    "bn",
    "bn_BD",
    "bn_IN",
    "br",
    "br_FR",
    "brx",
    "bs",
    "bs_BA",
    "bs_BA-SRP",
    "bua",
    "eu",
    "eu_ES",
    "my",
    "my_MM",
    "ca",
    "ca_ES",
    "ca@valencia",
    "cdo",
    "ceb",
    "cgg",
    "ch",
    "chk",
    "chr",
    "cjy",
    "ckb",
    "cmn",
    "co",
    "cpx",
    "crh",
    "cs",
    "cs_CZ",
    "cv",
    "czh",
    "czo",
    "gan",
    "hak",
    "hne",
    "hr",
    "hr_BA",
    "hr_BA-SRP",
    "hr_HR",
    "hsn",
    "ksh",
    "kw",
    "lzh",
    "mnp",
    "nan",
    "tzm",
    "wuu",
    "xcl",
    "yue",
    "zh",
    "zh_CN",
    "zh_CN.GB2312",
    "zh-Hans",
    "zh-Hant",
    "zh_HK",
    "zh_SG",
    "zh_TW",
    "zh_TW.Big5",
    "da",
    "da_DK",
    "doi",
    "dv",
    "dz",
    "dz_BT",
    "nl",
    "nl_BE",
    "nl_NL",
    "ee",
    "en",
    "en_AE",
    "en_AL",
    "en_AT",
    "en_AU",
    "en_BA",
    "en_BA-SRP",
    "en_BD",
    "en_BE",
    "en_BG",
    "en_BR",
    "en_CA",
    "en_CH",
    "en_CL",
    "en_CY",
    "en_CZ",
    "en_DE",
    "en_DK",
    "en_ee",
    "en_EG",
    "en_ES",
    "en_FI",
    "en_FR",
    "en_GB",
    "en_GH",
    "en_GR",
    "en_HK",
    "en_HR",
    "en_HU",
    "en_IE",
    "en_IN",
    "en_IT",
    "en_JP",
    "en_LK",
    "en_lt",
    "en_lv",
    "en_MY",
    "en_NG",
    "en_NL",
    "en_NO",
    "en_NZ",
    "en_PH",
    "en_PK",
    "en_PL",
    "en_PR",
    "en_PT",
    "en_RO",
    "en_RS",
    "en_SE",
    "en_SG",
    "en_SI",
    "en_SK",
    "en_TT",
    "en_UG",
    "en_US",
    "en_ZA",
    "en_ZM",
    "eo",
    "et",
    "et_EE",
    "hye",
    "hye_RU",
    "mhr_RU",
    "myv",
    "ff",
    "ff_SN",
    "fi",
    "fi_FI",
    "fil",
    "fil_PH",
    "fo",
    "fo_FO",
    "fr",
    "fr_BE",
    "fr_CA",
    "fr_CH",
    "fr_CI",
    "fr_CM",
    "fr_FR",
    "fr_GA",
    "frp",
    "fur",
    "de",
    "de_AT",
    "de_CH",
    "de_DE",
    "el",
    "el_CY",
    "el_DE",
    "el_GR",
    "gd",
    "gl",
    "gl_ES",
    "gos",
    "grt",
    "gu",
    "gug_PY",
    "gu_IN",
    "gun",
    "ka",
    "ka_GE",
    "kl",
    "lg_UG",
    "ha",
    "haw",
    "he",
    "he_IL",
    "hi",
    "hi_IN",
    "hrx",
    "ht",
    "ht_HT",
    "hu",
    "hu_HU",
    "hu_RO",
    "hu_SK",
    "ga",
    "ga_IE",
    "ia",
    "id",
    "id_ID",
    "ie",
    "ig",
    "ilo",
    "io",
    "is",
    "is_IS",
    "it",
    "it_CH",
    "it_IT",
    "iu",
    "ja",
    "ja-Hira",
    "ja_JP",
    "jam",
    "jv",
    "cak",
    "csb",
    "dtp",
    "kab",
    "kbd",
    "kha",
    "ki",
    "kk",
    "kk@Arab",
    "kk@Cyrl",
    "kk_KZ",
    "kk@latin",
    "km",
    "km_KH",
    "kn",
    "kn_IN",
    "ko",
    "kok",
    "ko_KR",
    "kqn",
    "krl",
    "ks",
    "ks_IN",
    "ku",
    "ku_IQ",
    "ky",
    "ky@Arab",
    "pam",
    "quc",
    "rn",
    "rw",
    "tlh",
    "ayl",
    "dsb",
    "en@lolcat",
    "jbo",
    "la",
    "lad",
    "lb",
    "lez",
    "lfn",
    "lg",
    "li",
    "lij",
    "lkt",
    "lmo",
    "ln",
    "lo",
    "lo_LA",
    "loz_ZM",
    "lt",
    "ltg",
    "lt_LT",
    "lue",
    "lv",
    "lv_LV",
    "nds",
    "arn",
    "ary",
    "lus",
    "mai",
    "mg",
    "mh",
    "mhr",
    "mi",
    "min",
    "mk",
    "mk_MK",
    "ml",
    "ml_IN",
    "mn",
    "mni",
    "mn_MN",
    "mr",
    "mr_IN",
    "ms",
    "ms@Arab",
    "ms_BN",
    "ms_MY",
    "mt",
    "mt_MT",
    "mw1",
    "nah",
    "nap",
    "nb",
    "nb_NO",
    "nd",
    "ne",
    "ne_NP",
    "nia",
    "nn",
    "nn_NO",
    "no",
    "no_NO",
    "nqo",
    "nr",
    "nso",
    "nv",
    "ny",
    "pcm",
    "se",
    "ang",
    "oc",
    "om",
    "or",
    "or_IN",
    "os",
    "en@pirate",
    "fa",
    "fa_AF",
    "fa_IR",
    "pa",
    "pa_IN",
    "pap",
    "pa_PK",
    "pfl",
    "pl",
    "pl_PL",
    "pms",
    "ps",
    "ps_AF",
    "pt",
    "pt_AO",
    "pt_BR",
    "pt_MZ",
    "pt_PT",
    "qu",
    "qu_EC",
    "rap",
    "rm",
    "ro",
    "ro_MD",
    "ro_RO",
    "ru",
    "rue",
    "ru_ee",
    "ru_lt",
    "ru_lv",
    "ru@petr1708",
    "ru_RU",
    "ru_UA",
    "es",
    "es_419",
    "es_AR",
    "es_BO",
    "es_CL",
    "es_CO",
    "es_CR",
    "es_CU",
    "es_DO",
    "es_EC",
    "es_ES",
    "es_GT",
    "es_HN",
    "es_MX",
    "es_NI",
    "es_PA",
    "es_PE",
    "es_PR",
    "es_PY",
    "es_SA",
    "es_SV",
    "es_US",
    "es_UY",
    "es_VE",
    "gsw",
    "quh",
    "sa",
    "sah",
    "saq",
    "sat",
    "sc",
    "scn",
    "sco",
    "sd",
    "sg",
    "si",
    "si_LK",
    "sk",
    "sk_SK",
    "sl",
    "sl_SI",
    "sm",
    "sma",
    "sn",
    "so",
    "son",
    "sr",
    "sr_BA@latin",
    "sr_BA-SRP",
    "sr@Cyrl",
    "sr@Ijekavian",
    "sr@ijekavianlatin",
    "sr@latin",
    "sr_ME",
    "sr_ME@latin",
    "sr_RS",
    "sr_RS@latin",
    "ss",
    "st",
    "st_ZA",
    "su",
    "sv",
    "sv_FI",
    "sv_SE",
    "sw",
    "sw_CD",
    "swg",
    "sw_KE",
    "sw_TZ",
    "sw_UG",
    "szl",
    "zgh",
    "bo",
    "bo_CN",
    "shi",
    "shy",
    "ta",
    "ta_IN",
    "ta_LK",
    "te",
    "te_IN",
    "tet",
    "tg",
    "tg_TJ",
    "th",
    "th_TH",
    "ti",
    "tk",
    "tk_TM",
    "tl",
    "tl_PH",
    "tn",
    "to",
    "tpi",
    "tr",
    "tr_CY",
    "tr_DE",
    "tr_TR",
    "ts",
    "tsi",
    "tt",
    "tum",
    "tuv",
    "twd",
    "tzj",
    "tzl",
    "hsb",
    "udm",
    "ug",
    "ug@Arab",
    "ug@Cyrl",
    "ug@Latin",
    "uk",
    "uk_UA",
    "ur",
    "ur_PK",
    "uz",
    "uz@Arab",
    "uz@Cyrl",
    "uz@Latn",
    "uz_UZ",
    "vmf",
    "ve",
    "vec",
    "vep",
    "vi",
    "vi_VN",
    "vls",
    "vo",
    "cy",
    "cy_GB",
    "fy",
    "fy_NL",
    "wa",
    "war",
    "wo",
    "wo_SN",
    "xh",
    "en@ysv",
    "yi",
    "yo",
    "zu",
    "zu_ZA",
    "zza",
];

module.exports.validatePublisher = function(publisher) {
    if (!publisher) {
        return "Missing publisher name";
    }

    if (!nameRegex.test(publisher)) {
        return "Invalid publisher name";
    }

    return true;
}

module.exports.validateExtensionId = function(id) {
    if (!id) {
        return "Missing extension identifier";
    }

    if (!nameRegex.test(id)) {
        return "Invalid extension identifier";
    }

    return true;
}

module.exports.validateNonEmpty = function(name) {
    return name && name.length > 0;
}

module.exports.validateTransifexLanguageId = function (id) {
    return (
        validLanguageIDs.includes(id) ||
        "Invalid Language Id. Please see this page for a list of available language IDs: https://www.transifex.com/explore/languages/"
    );
};
